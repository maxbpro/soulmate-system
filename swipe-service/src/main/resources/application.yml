server:
  port: 8083
  compression:
    enabled: true
    mime-types: text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
    min-response-size: 1024
  tomcat:
    connection-timeout: 10s
    keep-alive-timeout: 30s
    max-connections: 10000
    threads:
      max: 200
      min-spare: 10

spring:
  application:
    name: swipe-service

  # Cassandra configuration
  cassandra:
    keyspace-name: ${CASSANDRA_KEYSPACE:swipe}
    contact-points: ${CASSANDRA_CONTACT_POINTS:localhost:9042}
    port: ${CASSANDRA_PORT:9042}
    local-datacenter: ${CASSANDRA_DATACENTER:datacenter1}
    schema-action: ${CASSANDRA_SCHEMA_ACTION:CREATE_IF_NOT_EXISTS}
    connection:
      connect-timeout: ${CASSANDRA_CONNECT_TIMEOUT:10s}
      init-query-timeout: ${CASSANDRA_INIT_QUERY_TIMEOUT:10s}

management:
  server:
    port: 8083

  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus,loggers
        exclude: shutdown,env,beans,configprops,mappings
  endpoint:
    prometheus:
      access: read_only
  metrics:
    enable:
      jvm: true
      system: true
      logback: true
      cassandra: true
      http: true
      jdbc: true
      process: true
      tomcat: true
  tracing:
    enabled: true
    sampling:
      probability: 1.0
  prometheus:
    metrics:
      export:
        enabled: true
        step: 60s
        descriptions: true
  otlp:
    tracing:
      endpoint: ${ALLOY_OTLP_TRACING_ENDPOINT:http://alloy:4318/v1/traces}

otel:
  exporter:
    otlp:
      endpoint: ${ALLOY_OTLP_ENDPOINT:http://alloy:4318}
      protocol: http/protobuf
  logs:
    exporter: none
  metrics:
    exporter: none



